<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<!-- import template repeater -->
<link rel="import" href="../../bower_components/polymer/lib/elements/dom-repeat.html">
<link rel="import" href="../../bower_components/paper-item/paper-item.html">
<link rel="import" href="../../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../../bower_components/paper-toggle-button/paper-toggle-button.html">
<!-- import conditional template -->
<!--<link rel="import" href="../../bower_components/polymer/lib/elements/dom-if.html">-->


<dom-module id="spoggy-sources">
  <template>
    <style>
    :host {
      display: block;
    }
    </style>
    <h2>Sources : {{source.label}}</h2>
    <paper-listbox  attr-for-selected="value" selected="{{source}}">
      <template is="dom-repeat" items="{{sources}}">
        <paper-item value="{{item}}">
          <paper-toggle-button checked={{item.actif}} on-change="_updateSource"></paper-toggle-button> {{item.label}}, {{item.currentDataset}}
        </paper-item>
      </template>
    </paper-listbox>
    <!--
    {{type}}
    <paper-dropdown-menu label="Type" no-animations="true" >
    <paper-listbox id="paperListbox" class="dropdown-content" attr-for-selected="value" selected="{{type}}">
    <paper-item value="1">Internal</paper-item>
    <paper-item value="2">External</paper-item>
  </paper-listbox>
</paper-dropdown-menu>-->

</template>

<script>
/**
* `spoggy-sources`
*
*
* @customElement
* @polymer
* @demo demo/index.html
*/
class SpoggySources extends Polymer.Element {
  static get is() { return 'spoggy-sources'; }
  static get properties() {
    return {
      prop1: {
        type: String,
        value: 'spoggy-sources'
      },
      selected: {
        value:0
      },
      source: {
        type: Object,
        observer: '_tapSource',
        notify: true
      },
      sources: {
        type: Array,
        notify: true
      }
    };
  }

  _tapSource(oldSource, newSource){
    console.log(oldSource,newSource)
  }
  _updateSource(data){
    console.log(data)
  }

  }

  window.customElements.define(SpoggySources.is, SpoggySources);
  </script>
</dom-module>
